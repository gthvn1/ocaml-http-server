<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Hello</title>
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <h1 id="hdr">Lox REPL!</h1>

    <div class="container">
      <div class="left">
        <div class="section">
          <label for="blackboard">Blackboard</label>
          <textarea id="blackboard" name="blackboard">Type your lox code here</textarea>
        </div>
        <div class="section">
          <label for="output">Output</label>
          <textarea id="output" name="output">Results will appear here</textarea>
        </div>
      </div>
      <div class="right">
          <label for="debug">Debug</label>
          <textarea id="debug" name="debug">Debug info</textarea>
      </div>
    </div>


    <script>
      var bboard = document.getElementById("blackboard");
      var output = document.getElementById("output");
      
      bboard.addEventListener("input", () => {
        fetch("/rot13", {
          method: "POST",
          headers: {"Content-Type": "text/plain"},
          body: bboard.value })
        .then(response => response.text())
        .then(text => {
          output.value = text;
          console.log("Server responded:", text);
        })
        .catch(err => console.error("Error:", err));
      })
    </script>

  </body>
</html>

